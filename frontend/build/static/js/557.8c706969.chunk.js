/*! For license information please see 557.8c706969.chunk.js.LICENSE.txt */
(self.webpackChunkabsensi_frontend=self.webpackChunkabsensi_frontend||[]).push([[557],{1542:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(454),n=(t(9950),t(4414));const a=e=>{let s=Object.assign({},((0,r.A)(e),e));return(0,n.jsx)("div",{className:"nk-content",children:(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsx)("div",{className:"nk-content-inner",children:(0,n.jsxs)("div",{className:"nk-content-body",children:[s.page?null:s.children,"component"===s.page?(0,n.jsx)("div",{className:"components-preview wide-md mx-auto",children:s.children}):null]})})})})}},9557:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(9950),n=t(3429),a=t(1542),l=t(5988),o=t(7806),i=t(7207),c=t(9343),d=t(4209),u=t(9379),m=t(454),p=t(3120),h=t(1340),f=t(877),g=t(1646),b=t(3452),j=t(9449);const x=new(t(183).g);var v=t(9051),y=t.n(v),O=t(4414);const k=e=>{let s=Object.assign({},((0,m.A)(e),e));const t=JSON.parse(localStorage.getItem("teacher")),{register:n,handleSubmit:a,setValue:o,formState:{errors:i},getValues:c,reset:v,control:k}=(0,j.mN)(),[N,M]=(0,r.useState)(!1),[w,_]=(0,r.useState)(null),S=[{value:"I",label:"Ijin"},{value:"S",label:"Sakit"}],A=async()=>{M(!0);const e={teacherId:t.id,date:y()().format("YYYY-MM-DD"),status:c("status"),description:c("description")};null!==w&&(e.image=w),await function(e){return x.createWithFile("/permission",e)}(e).then((e=>{(0,l.eI)(e.data.message,"success"),I(),s.setLoadData(!0)})).catch((e=>(0,l.eI)(e,"error")))},D=async()=>{M(!0);const e={id:c("id"),teacherId:t.id,date:y()().format("YYYY-MM-DD"),status:c("status"),description:c("description")};null!==w&&(e.image=w),await function(e){const s="/permission/".concat(e.id);return x.updateWithFile("".concat(s),e)}(e).then((e=>{(0,l.eI)(e.data.message,"success"),I(),s.setLoadData(!0)})).catch((e=>(0,l.eI)(e,"error")))},I=()=>{v(),o("status",null),o("image",null),s.setPermission(null),s.setModal(!1)};return(0,r.useEffect)((()=>{if(null!==s.permission){const e=s.permission;o("id",null===e||void 0===e?void 0:e.id),o("teacherId",null===e||void 0===e?void 0:e.teacherId),o("date",null===e||void 0===e?void 0:e.date),o("status",null===e||void 0===e?void 0:e.status),o("description",e.description),o("letter",e.letter),o("accept",e.accept)}}),[s.permission]),(0,O.jsx)(r.Fragment,{children:(0,O.jsxs)(p.A,{isOpen:s.modal,toggle:I,children:[(0,O.jsx)(h.A,{children:null!==s.permission?"UBAH":"TAMBAH"}),(0,O.jsx)(f.A,{children:(0,O.jsx)("form",{className:"form-validate is-alter",onSubmit:a((()=>{null===s.permission?A().then((()=>M(!1))):D().then((()=>M(!1)))})),children:(0,O.jsxs)(l.fI,{className:"gy-2",children:[(0,O.jsx)(l.fv,{className:"col-md-12",children:(0,O.jsxs)("div",{className:"form-group",children:[(0,O.jsx)(g.A,{htmlFor:"date",className:"form-label",children:"Tanggal"}),(0,O.jsxs)("div",{className:"form-control-wrap",children:[(0,O.jsx)("input",(0,u.A)({type:"text",className:"form-control",id:"date",value:y()(c("date")).format("DD-MM-YYYY").toString(),disabled:!0},n("date",{required:!1}))),i.date&&(0,O.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,O.jsx)(l.fv,{className:"col-md-12",children:(0,O.jsxs)("div",{className:"form-group",children:[(0,O.jsx)("label",{className:"form-label",htmlFor:"user",children:"Status"}),(0,O.jsxs)("div",{className:"form-control-wrap",children:[(0,O.jsx)("input",{type:"hidden",className:"form-control"}),(0,O.jsx)(j.xI,{control:k,className:"form-control",name:"status",rules:{required:!0},render:e=>{let{field:{onChange:s,value:t,ref:r}}=e;return(0,O.jsx)(l.$t,{inputRef:r,options:S,value:S.find((e=>e.value===t)),onChange:e=>s(e.value),placeholder:"Pilih Status"})}}),i.status&&(0,O.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,O.jsx)(l.fv,{className:"col-md-12",children:(0,O.jsxs)("div",{className:"form-group",children:[(0,O.jsx)(g.A,{htmlFor:"description",className:"form-label",children:"Diskripsi"}),(0,O.jsxs)("div",{className:"form-control-wrap",children:[(0,O.jsx)("textarea",(0,u.A)({className:"form-control",id:"description",placeholder:"Ex. Ijin acara keluarga pak"},n("description",{required:!1}))),i.description&&(0,O.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,O.jsx)(l.fv,{className:"col-md-12",children:(0,O.jsxs)("div",{className:"form-group",children:[(0,O.jsx)(g.A,{htmlFor:"image",className:"form-label",children:"Surat Ijin"}),(0,O.jsx)("div",{className:"form-control-wrap",children:(0,O.jsx)("input",{className:"form-control",type:"file",id:"image",onChange:e=>{_(e.target.files[0])}})})]})}),(0,O.jsx)("div",{className:"form-group",children:(0,O.jsx)(b.A,{size:"lg",className:"btn-block",type:"submit",color:"primary",children:N?(0,O.jsx)(d.A,{size:"sm",color:"light"}):"SIMPAN"})})]})})})]})})};t(6101);const N=()=>{const[e,s]=(0,r.useState)(!1),[t,u]=(0,r.useState)([]),[m,p]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!0),j=[{name:"Tanggal",selector:e=>y()(e.date).locale("id").format("DD/MM/YYYY"),sortable:!1},{name:"Perijinan",selector:e=>"I"===e.status?"Ijin":"Sakit",sortable:!1},{name:"Keterangan",selector:e=>e.description,sortable:!1,hide:400},{name:"Status",selector:e=>e.accept,sortable:!1,cell:e=>{switch(e.accept){case"1":return(0,O.jsxs)(i.A,{pill:!0,color:"outline-success",children:[(0,O.jsx)(l.In,{name:"check-thick"}),(0,O.jsx)("span",{children:"Disetujui"})]});case"2":return(0,O.jsxs)(i.A,{pill:!0,color:"outline-warning",children:[(0,O.jsx)(l.In,{name:"clock"}),(0,O.jsx)("span",{children:"Diajukan"})]});case"3":return(0,O.jsxs)(i.A,{pill:!0,color:"outline-danger",children:[(0,O.jsx)(l.In,{name:"cross"})," ",(0,O.jsx)("span",{children:"Ditolak"})]})}}},{name:"Aksi",selector:e=>e.id,sortable:!1,cell:e=>(0,O.jsxs)(c.A,{size:"sm",children:[(0,O.jsx)(l.$n,{outline:!0,color:"warning",onClick:()=>{p(e),s(!0)},children:(0,O.jsx)(l.In,{name:"edit-alt"})}),(0,O.jsx)(l.$n,{outline:!0,color:"danger",onClick:()=>{f(e.id),function(e){const s="/permission/".concat(e);return x.delete("".concat(s))}(e.id).then((e=>{(0,l.eI)(e.data.message,"success"),b(!0),f(!1)})).catch((e=>{(0,l.eI)(e,"error"),f(!1)}))},children:h===e.id?(0,O.jsx)(d.A,{size:"sm"}):(0,O.jsx)(l.In,{name:"trash"})})]})}];return(0,r.useEffect)((()=>{var e;g&&x.get("".concat("/permission"),e).then((e=>{u(e.data.result),b(!1)})).catch((e=>{(0,l.eI)(e,"error"),b(!1)}))}),[g]),(0,O.jsxs)(r.Suspense,{fallback:(0,O.jsx)("div",{children:"Loading.."}),children:[(0,O.jsx)(n.A,{title:"Data Perijinan"}),(0,O.jsxs)(a.A,{page:"component",children:[(0,O.jsx)(l.GE,{size:"lg",wide:"sm",children:(0,O.jsx)(l.X3,{children:(0,O.jsx)(l.n0,{link:"/",icon:"arrow-left",children:"Dashboard"})})}),(0,O.jsxs)(l.eB,{size:"sm",children:[(0,O.jsx)(l.GE,{size:"sm",children:(0,O.jsxs)(l.CZ,{children:[(0,O.jsxs)(l.X3,{children:[(0,O.jsx)(l.E9,{tag:"h4",children:"Data Perijinan"}),(0,O.jsxs)("p",{children:["Just import ",(0,O.jsx)("code",{children:"ReactDataTable"})," from ",(0,O.jsx)("code",{children:"components"}),", it is built in for react dashlite."]})]}),(0,O.jsx)(l.X3,{children:(0,O.jsxs)("div",{className:"toggle-wrap nk-block-tools-toggle",children:[(0,O.jsx)(l.$n,{className:"toggle btn-icon d-md-none",color:"dark",onClick:()=>{s(!0)},children:(0,O.jsx)(l.In,{name:"plus"})}),(0,O.jsx)("div",{className:"toggle-expand-content",children:(0,O.jsx)("ul",{className:"nk-block-tools g-3",children:(0,O.jsx)("li",{className:"nk-block-tools-opt",children:(0,O.jsxs)(l.$n,{className:"toggle d-none d-md-inline-flex",color:"dark",onClick:()=>{s(!0)},children:[(0,O.jsx)(l.In,{name:"plus"}),(0,O.jsx)("span",{children:"TAMBAH"})]})})})})]})})]})}),(0,O.jsx)(l.Ns,{children:(0,O.jsx)(o.A,{data:t,columns:j,expandableRows:!0,pagination:!0})})]})]}),(0,O.jsx)(k,{modal:e,setModal:s,permission:m,setPermission:p,setLoadData:b})]})}},6101:function(e,s,t){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,s){return 12===e&&(e=0),"pagi"===s?e:"siang"===s?e>=11?e:e+12:"sore"===s||"malam"===s?e+12:void 0},meridiem:function(e,s,t){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(t(9051))},7207:(e,s,t)=>{"use strict";t.d(s,{A:()=>h});var r=t(9950),n=t(1942),a=t.n(n),l=t(8738),o=t.n(l),i=t(1497),c=["className","cssModule","color","innerRef","pill","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d.apply(this,arguments)}function u(e,s){if(null==e)return{};var t,r,n=function(e,s){if(null==e)return{};var t,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||(n[t]=e[t]);return n}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var m={children:a().node,className:a().string,color:a().string,cssModule:a().object,innerRef:a().oneOfType([a().object,a().func,a().string]),pill:a().bool,tag:i.Wx};function p(e){var s=e.className,t=e.cssModule,n=e.color,a=void 0===n?"secondary":n,l=e.innerRef,m=e.pill,p=void 0!==m&&m,h=e.tag,f=void 0===h?"span":h,g=u(e,c),b=(0,i.qO)(o()(s,"badge","bg-"+a,!!p&&"rounded-pill"),t);return g.href&&"span"===f&&(f="a"),r.createElement(f,d({},g,{className:b,ref:l}))}p.propTypes=m;const h=p},9343:(e,s,t)=>{"use strict";t.d(s,{A:()=>g});var r=t(9950),n=t(1942),a=t.n(n),l=t(8738),o=t.n(l),i=t(1497),c=["className","cssModule","size","vertical","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d.apply(this,arguments)}function u(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,r)}return t}function m(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function p(e,s){if(null==e)return{};var t,r,n=function(e,s){if(null==e)return{};var t,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||(n[t]=e[t]);return n}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var h={"aria-label":a().string,className:a().string,cssModule:a().object,role:a().string,size:a().string,tag:i.Wx,vertical:a().bool};function f(e){var s=e.className,t=e.cssModule,n=e.size,a=e.vertical,l=e.tag,h=void 0===l?"div":l,f=p(e,c),g=(0,i.qO)(o()(s,!!n&&"btn-group-"+n,a?"btn-group-vertical":"btn-group"),t);return r.createElement(h,d({},function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?u(Object(t),!0).forEach((function(s){m(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}({role:"group"},f),{className:g}))}f.propTypes=h;const g=f},1646:(e,s,t)=>{"use strict";t.d(s,{A:()=>x});var r=t(9950),n=t(1942),a=t.n(n),l=t(8738),o=t.n(l),i=t(1497),c=["className","cssModule","hidden","widths","tag","check","size","for"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d.apply(this,arguments)}function u(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function m(e,s){if(null==e)return{};var t,r,n=function(e,s){if(null==e)return{};var t,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||(n[t]=e[t]);return n}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var p=["xs","sm","md","lg","xl","xxl"],h=a().oneOfType([a().number,a().string]),f=a().oneOfType([a().bool,a().string,a().number,a().shape({size:h,order:h,offset:h})]),g={children:a().node,hidden:a().bool,check:a().bool,size:a().string,for:a().string,tag:i.Wx,className:a().string,cssModule:a().object,xs:f,sm:f,md:f,lg:f,xl:f,xxl:f,widths:a().array},b=function(e,s,t){return!0===t||""===t?e?"col":"col-".concat(s):"auto"===t?e?"col-auto":"col-".concat(s,"-auto"):e?"col-".concat(t):"col-".concat(s,"-").concat(t)};function j(e){var s=e.className,t=e.cssModule,n=e.hidden,a=e.widths,l=void 0===a?p:a,h=e.tag,f=void 0===h?"label":h,g=e.check,j=e.size,x=e.for,v=m(e,c),y=[];l.forEach((function(s,r){var n=e[s];if(delete v[s],n||""===n){var a,l=!r;if((0,i.Gv)(n)){var c,d=l?"-":"-".concat(s,"-");a=b(l,s,n.size),y.push((0,i.qO)(o()((u(c={},a,n.size||""===n.size),u(c,"order".concat(d).concat(n.order),n.order||0===n.order),u(c,"offset".concat(d).concat(n.offset),n.offset||0===n.offset),c))),t)}else a=b(l,s,n),y.push(a)}}));var O=j||y.length,k=!(g||O),N=(0,i.qO)(o()(s,!!n&&"visually-hidden",!!g&&"form-check-label",!!j&&"col-form-label-".concat(j),y,!!O&&"col-form-label",!!k&&"form-label"),t);return r.createElement(f,d({htmlFor:x},v,{className:N}))}j.propTypes=g;const x=j},1340:(e,s,t)=>{"use strict";t.d(s,{A:()=>h});var r=t(9950),n=t(1942),a=t.n(n),l=t(8738),o=t.n(l),i=t(1497),c=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d.apply(this,arguments)}function u(e,s){if(null==e)return{};var t,r,n=function(e,s){if(null==e)return{};var t,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||(n[t]=e[t]);return n}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var m={children:a().node,className:a().string,close:a().object,closeAriaLabel:a().string,cssModule:a().object,tag:i.Wx,toggle:a().func,wrapTag:i.Wx};function p(e){var s,t=e.className,n=e.cssModule,a=e.children,l=e.toggle,m=e.tag,p=void 0===m?"h5":m,h=e.wrapTag,f=void 0===h?"div":h,g=e.closeAriaLabel,b=void 0===g?"Close":g,j=e.close,x=u(e,c),v=(0,i.qO)(o()(t,"modal-header"),n);return!j&&l&&(s=r.createElement("button",{type:"button",onClick:l,className:(0,i.qO)("btn-close",n),"aria-label":b})),r.createElement(f,d({},x,{className:v}),r.createElement(p,{className:(0,i.qO)("modal-title",n)},a),j||s)}p.propTypes=m;const h=p}}]);