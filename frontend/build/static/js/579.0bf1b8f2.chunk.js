/*! For license information please see 579.0bf1b8f2.chunk.js.LICENSE.txt */
(self.webpackChunkabsensi_frontend=self.webpackChunkabsensi_frontend||[]).push([[579],{1542:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var s=t(454),r=(t(9950),t(4414));const a=e=>{let n=Object.assign({},((0,s.A)(e),e));return(0,r.jsx)("div",{className:"nk-content",children:(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsx)("div",{className:"nk-content-inner",children:(0,r.jsxs)("div",{className:"nk-content-body",children:[n.page?null:n.children,"component"===n.page?(0,r.jsx)("div",{className:"components-preview wide-md mx-auto",children:n.children}):null]})})})})}},8579:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>j});var s=t(9950),r=t(8429),a=t(3429),l=t(5988),c=t(1542),i=t(9051),d=t.n(i),o=(t(6101),t(7207)),u=t(5521),h=t(8460),m=t(5208),g=t(7658),p=t(4414);const j=()=>{const e=(0,u.r)(),n=(0,h.M)(),{month:t,year:i}=(0,r.g)(),[j,x]=(0,s.useState)([]),[b,f]=(0,s.useState)([]),[M,_]=(0,s.useState)([]),y=e=>{switch(e){case"H":return"success";case"I":return"info";case"S":return"warning";default:return"danger"}},v=e=>"Minggu"===d()("".concat(e,"/").concat(t,"/").concat(i),"D/MM/YYYY").locale("id").format("dddd").toString();return(0,s.useEffect)((()=>{let e=d()("1/".concat(t,"/").concat(i),"D/MM/YYYY").daysInMonth();const n=[];for(;e;)n.push(e.toString()),e--;x(n.reverse()),(0,m.Jt)({month:t,year:i}).then((e=>{const n=e.data.result.map((e=>d()(e.date,"YYYY-MM-DD").format("D").toString()));_(n)})).catch((e=>(0,l.eI)(e,"error"))),(0,g.Jt)({presence:!0,month:t,year:i}).then((e=>{f(e.data.result)})).catch((e=>(0,l.eI)(e,"error")))}),[]),(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)(a.A,{title:"Kelola Absesnsi"}),(0,p.jsx)(c.A,{children:(0,p.jsxs)(l.eB,{size:"sm",children:[(0,p.jsx)(l.GE,{size:"sm",children:(0,p.jsxs)(l.X3,{children:[(0,p.jsx)(l.E9,{tag:"h4",children:"Kelola Absensi"}),(0,p.jsxs)("p",{children:["Just import ",(0,p.jsx)("code",{children:"ReactDataTable"})," from ",(0,p.jsx)("code",{children:"components"}),", it is built in for react dashlite."]})]})}),(0,p.jsx)(l.Ns,{children:(0,p.jsx)(l.fv,{className:"col-md-4",children:(0,p.jsx)("table",{className:"table",children:(0,p.jsxs)("tbody",{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{style:{width:"200px"},children:"Tahun Pelajaran"}),(0,p.jsx)("td",{children:e.name})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Semester"}),(0,p.jsx)("td",{children:"1"===n.name?"Gasal":"Genap"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Bulan"}),(0,p.jsx)("td",{children:d()("".concat(t,"/").concat(i),"MM/YYYY").locale("id").format("MMMM YYYY")})]})]})})})}),(0,p.jsx)(l.Wi,{children:(0,p.jsxs)("table",{className:"table table-bordered border-2 table-striped",style:{display:"block",overflowX:"auto",whiteSpace:"nowrap"},children:[(0,p.jsxs)("thead",{children:[(0,p.jsxs)("tr",{className:"text-center fw-bold",style:{verticalAlign:"middle"},children:[(0,p.jsx)("td",{rowSpan:"3",children:"Nama Guru"}),(0,p.jsx)("td",{colSpan:2*j.length,children:"Tanggal"}),(0,p.jsx)("td",{colSpan:"4",children:"Jumlah"})]}),(0,p.jsxs)("tr",{className:"text-center fw-bold",style:{verticalAlign:"middle"},children:[j.map(((e,n)=>M.includes(e)||v(e)?(0,p.jsx)("td",{colSpan:"2",className:"bg-danger",children:e},n):(0,p.jsx)("td",{colSpan:"2",children:e},n))),(0,p.jsx)("td",{rowSpan:2,className:"bg-success",children:"H"}),(0,p.jsx)("td",{rowSpan:2,className:"bg-info",children:"I"}),(0,p.jsx)("td",{rowSpan:2,className:"bg-warning",children:"S"}),(0,p.jsx)("td",{rowSpan:2,className:"bg-danger",children:"A"})]}),(0,p.jsx)("tr",{className:"text-center fw-bold",children:j.map(((e,n)=>M.includes(String(e))||v(e)?(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)("td",{className:"bg-danger",children:"M"}),(0,p.jsx)("td",{className:"bg-danger",children:"P"})]},n):(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)("td",{children:"M"}),(0,p.jsx)("td",{children:"P"})]},n)))})]}),(0,p.jsx)("tbody",{children:b.map(((e,n)=>{var t;const r=e.presences.filter((e=>"H"===e.statusIn)),a=e.presences.filter((e=>"I"===e.statusIn)),l=e.presences.filter((e=>"S"===e.statusIn)),c=null===(t=e.presences)||void 0===t?void 0:t.filter((e=>"A"===e.statusIn));return(0,p.jsxs)("tr",{className:"text-center",style:{verticalAlign:"middle"},children:[(0,p.jsx)("td",{children:e.name}),j.map(((n,t)=>{const r=e.presences.filter((e=>d()(e.date,"YYYY-MM-DD").date().toString()===n));return r.length>0&&!M.includes(n)&&!v(n)?(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)("td",{children:(0,p.jsx)(o.A,{pill:!0,color:y(r[0].statusIn),children:r[0].statusIn})}),(0,p.jsx)("td",{children:(0,p.jsx)(o.A,{pill:!0,color:y(r[0].statusOut),children:r[0].statusOut})})]},t):M.includes(n)||v(n)?(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)("td",{className:"bg-danger"}),(0,p.jsx)("td",{className:"bg-danger"})]},t):(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)("td",{}),(0,p.jsx)("td",{})]},t)})),(0,p.jsx)("td",{className:"bg-success",children:null===r||void 0===r?void 0:r.length}),(0,p.jsx)("td",{className:"bg-info",children:null===a||void 0===a?void 0:a.length}),(0,p.jsx)("td",{className:"bg-warning",children:null===l||void 0===l?void 0:l.length}),(0,p.jsx)("td",{className:"bg-danger",children:null===c||void 0===c?void 0:c.length})]},n)}))})]})})]})})]})}},5208:(e,n,t)=>{"use strict";t.d(n,{Jt:()=>r,M_:()=>a,yo:()=>l,zr:()=>c});const s=new(t(183).g);function r(e){return s.get("".concat("/master/holiday"),e)}function a(e){return s.create("/master/holiday",e)}function l(e){const n="/master/holiday/".concat(e.id);return s.update("".concat(n),e)}function c(e){const n="/master/holiday/".concat(e);return s.delete("".concat(n))}},7658:(e,n,t)=>{"use strict";t.d(n,{Jt:()=>r,M_:()=>a,WU:()=>l,yo:()=>c,zr:()=>i});const s=new(t(183).g);function r(e){return s.get("/teacher",e)}function a(e){return s.create("/teacher",e)}function l(e){const n="/teacher/".concat(e);return s.get("".concat(n))}function c(e){const n="/teacher/".concat(e.id);return s.update("".concat(n),e)}function i(e){const n="/teacher/".concat(e);return s.delete("".concat(n))}},6101:function(e,n,t){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,n){return 12===e&&(e=0),"pagi"===n?e:"siang"===n?e>=11?e:e+12:"sore"===n||"malam"===n?e+12:void 0},meridiem:function(e,n,t){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(t(9051))},7207:(e,n,t)=>{"use strict";t.d(n,{A:()=>g});var s=t(9950),r=t(1942),a=t.n(r),l=t(8738),c=t.n(l),i=t(1497),d=["className","cssModule","color","innerRef","pill","tag"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},o.apply(this,arguments)}function u(e,n){if(null==e)return{};var t,s,r=function(e,n){if(null==e)return{};var t,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)t=a[s],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)t=a[s],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var h={children:a().node,className:a().string,color:a().string,cssModule:a().object,innerRef:a().oneOfType([a().object,a().func,a().string]),pill:a().bool,tag:i.Wx};function m(e){var n=e.className,t=e.cssModule,r=e.color,a=void 0===r?"secondary":r,l=e.innerRef,h=e.pill,m=void 0!==h&&h,g=e.tag,p=void 0===g?"span":g,j=u(e,d),x=(0,i.qO)(c()(n,"badge","bg-"+a,!!m&&"rounded-pill"),t);return j.href&&"span"===p&&(p="a"),s.createElement(p,o({},j,{className:x,ref:l}))}m.propTypes=h;const g=m}}]);