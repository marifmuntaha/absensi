"use strict";(self.webpackChunkabsensi_frontend=self.webpackChunkabsensi_frontend||[]).push([[595],{1542:(e,r,n)=>{n.d(r,{A:()=>a});var t=n(454),s=(n(9950),n(4414));const a=e=>{let r=Object.assign({},((0,t.A)(e),e));return(0,s.jsx)("div",{className:"nk-content",children:(0,s.jsx)("div",{className:"container-fluid",children:(0,s.jsx)("div",{className:"nk-content-inner",children:(0,s.jsxs)("div",{className:"nk-content-body",children:[r.page?null:r.children,"component"===r.page?(0,s.jsx)("div",{className:"components-preview wide-md mx-auto",children:r.children}):null]})})})})}},595:(e,r,n)=>{n.r(r),n.d(r,{default:()=>N});var t=n(9950),s=n(3429),a=n(1542),l=n(5988),o=n(7806),c=n(7207),i=n(9343),d=n(4209),u=n(9379),m=n(454),p=n(3120),f=n(1340),h=n(877),b=n(1646),g=n(3452),j=n(9449),v=n(3529),x=n(5521),y=n(4414);const O=e=>{let r=Object.assign({},((0,m.A)(e),e));const{register:n,handleSubmit:s,setValue:a,formState:{errors:o},getValues:c,reset:i,control:O}=(0,j.mN)(),[N,k]=(0,x.r)(),[w,A]=(0,t.useState)(!1),P=[{value:"1",label:"Aktif"},{value:"2",label:"Tidak Aktif"}],S=async()=>{A(!0);const e={name:c("name"),description:c("description"),active:c("active")};await(0,v.M_)(e).then((e=>{var n;(0,l.eI)(e.data.message,"success"),T(),r.setLoadData(!0),"1"===(null===(n=e.data.result)||void 0===n?void 0:n.active)&&k(e.data.result.year)})).catch((e=>(0,l.eI)(e,"error")))},E=async()=>{A(!0);const e={id:c("id"),name:c("name"),description:c("description"),active:c("active")};await(0,v.yo)(e).then((e=>{(0,l.eI)(e.data.message,"success"),T(),r.setLoadData(!0),"1"===e.data.result.active&&k(e.data.result)})).catch((e=>(0,l.eI)(e,"error")))},T=()=>{i(),a("active",null),r.setYear(null),r.setModal(!1)};return(0,t.useEffect)((()=>{if(null!==r.year){const e=r.year;a("id",e.id),a("name",e.name),a("description",e.description),a("active",e.active)}}),[r.year]),(0,y.jsx)(t.Fragment,{children:(0,y.jsxs)(p.A,{isOpen:r.modal,toggle:T,children:[(0,y.jsx)(f.A,{children:void 0!==r.year?"UBAH":"TAMBAH"}),(0,y.jsx)(h.A,{children:(0,y.jsx)("form",{className:"form-validate is-alter",onSubmit:s((()=>{null===r.year?S().then((()=>A(!1))):E().then((()=>A(!1)))})),children:(0,y.jsxs)(l.fI,{className:"gy-2",children:[(0,y.jsx)(l.fv,{className:"col-md-12",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)(b.A,{htmlFor:"fullname",className:"form-label",children:"Nama"}),(0,y.jsxs)("div",{className:"form-control-wrap",children:[(0,y.jsx)("input",(0,u.A)({className:"form-control",type:"text",id:"name",placeholder:"Ex. 2023/2024"},n("name",{required:!0}))),o.name&&(0,y.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,y.jsx)(l.fv,{className:"col-md-12",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)(b.A,{htmlFor:"description",className:"form-label",children:"Diskripsi"}),(0,y.jsxs)("div",{className:"form-control-wrap",children:[(0,y.jsx)("input",(0,u.A)({className:"form-control",type:"text",id:"description",placeholder:"Ex. Tahun Pelajaran 2023/2024"},n("description",{required:!1}))),o.description&&(0,y.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,y.jsx)(l.fv,{className:"col-md-12",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{className:"form-label",htmlFor:"user",children:"Status"}),(0,y.jsxs)("div",{className:"form-control-wrap",children:[(0,y.jsx)("input",{type:"hidden",className:"form-control"}),(0,y.jsx)(j.xI,{control:O,className:"form-control",name:"active",rules:{required:!0},render:e=>{let{field:{onChange:r,value:n,ref:t}}=e;return(0,y.jsx)(l.$t,{inputRef:t,options:P,value:P.find((e=>e.value===n)),onChange:e=>r(e.value),placeholder:"Pilih Status"})}}),o.active&&(0,y.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,y.jsx)("div",{className:"form-group",children:(0,y.jsx)(g.A,{size:"lg",className:"btn-block",type:"submit",color:"primary",children:w?(0,y.jsx)(d.A,{size:"sm",color:"light"}):"SIMPAN"})})]})})})]})})},N=()=>{const[e,r]=(0,t.useState)(!1),[n,u]=(0,t.useState)([]),[m,p]=(0,t.useState)(null),[f,h]=(0,t.useState)(!0),[b,g]=(0,t.useState)(!1),[j,x]=(0,t.useState)(!1),N=[{name:"Nama Tahun",selector:e=>e.name,sortable:!1},{name:"Diskripsi",selector:e=>e.description,sortable:!1,hide:370},{name:"Status",selector:e=>e.active,sortable:!1,hide:"sm",cell:e=>"1"===e.active?(0,y.jsx)(c.A,{pill:!0,color:"success",children:"Aktif"}):(0,y.jsx)(c.A,{pill:!0,color:"danger",children:"Tdk Aktif"})},{name:"Aksi",selector:e=>e.id,sortable:!1,hide:"sm",cell:e=>(0,y.jsxs)(i.A,{size:"sm",children:[(0,y.jsx)(l.$n,{outline:!0,color:"warning",onClick:()=>{p(e),g(!0)},children:(0,y.jsx)(l.In,{name:"edit-alt"})}),(0,y.jsx)(l.$n,{outline:!0,color:"danger",onClick:()=>{x(e.id),(0,v.zr)(e.id).then((e=>{(0,l.eI)(e.data.message,"success"),h(!0)})).catch((e=>{(0,l.eI)(e,"error"),x(!1)}))},children:j===e.id?(0,y.jsx)(d.A,{size:"sm"}):(0,y.jsx)(l.In,{name:"trash"})})]})}];return(0,t.useEffect)((()=>{f&&(0,v.Jt)().then((e=>{u(e.data.result),h(!1)}))}),[f]),(0,y.jsxs)(t.Fragment,{children:[(0,y.jsx)(s.A,{title:"Data Tahun Pelajaran"}),(0,y.jsxs)(a.A,{page:"component",children:[(0,y.jsx)(l.GE,{size:"lg",wide:"sm",children:(0,y.jsx)(l.X3,{children:(0,y.jsx)(l.n0,{link:"/",icon:"arrow-left",children:"Dashboard"})})}),(0,y.jsxs)(l.eB,{size:"sm",children:[(0,y.jsx)(l.GE,{size:"sm",children:(0,y.jsxs)(l.CZ,{children:[(0,y.jsxs)(l.X3,{children:[(0,y.jsx)(l.E9,{tag:"h4",children:"Data Tahun Pelajaran"}),(0,y.jsxs)("p",{children:["Just import ",(0,y.jsx)("code",{children:"ReactDataTable"})," from ",(0,y.jsx)("code",{children:"components"}),", it is built in for react dashlite."]})]}),(0,y.jsx)(l.X3,{children:(0,y.jsxs)("div",{className:"toggle-wrap nk-block-tools-toggle",children:[(0,y.jsx)("a",{href:"#more",className:"btn btn-icon btn-trigger toggle-expand me-n1",onClick:n=>{n.preventDefault(),r(!e)},children:(0,y.jsx)(l.In,{name:"more-v"})}),(0,y.jsx)("div",{className:"toggle-expand-content",style:{display:e?"block":"none"},children:(0,y.jsx)("ul",{className:"nk-block-tools g-3",children:(0,y.jsxs)("li",{className:"nk-block-tools-opt",children:[(0,y.jsx)(l.$n,{className:"toggle btn-icon d-md-none",color:"dark",onClick:()=>{g(!0)},children:(0,y.jsx)(l.In,{name:"plus"})}),(0,y.jsxs)(l.$n,{className:"toggle d-none d-md-inline-flex",color:"dark",onClick:()=>{g(!0)},children:[(0,y.jsx)(l.In,{name:"plus"}),(0,y.jsx)("span",{children:"TAMBAH"})]})]})})})]})})]})}),(0,y.jsx)(l.Ns,{children:(0,y.jsx)(o.A,{data:n,columns:N,expandableRows:!0,pagination:!0})})]})]}),(0,y.jsx)(O,{modal:b,setModal:g,year:m,setYear:p,setLoadData:h})]})}},7207:(e,r,n)=>{n.d(r,{A:()=>f});var t=n(9950),s=n(1942),a=n.n(s),l=n(8738),o=n.n(l),c=n(1497),i=["className","cssModule","color","innerRef","pill","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n,t,s={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(s[n]=e[n]);return s}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var m={children:a().node,className:a().string,color:a().string,cssModule:a().object,innerRef:a().oneOfType([a().object,a().func,a().string]),pill:a().bool,tag:c.Wx};function p(e){var r=e.className,n=e.cssModule,s=e.color,a=void 0===s?"secondary":s,l=e.innerRef,m=e.pill,p=void 0!==m&&m,f=e.tag,h=void 0===f?"span":f,b=u(e,i),g=(0,c.qO)(o()(r,"badge","bg-"+a,!!p&&"rounded-pill"),n);return b.href&&"span"===h&&(h="a"),t.createElement(h,d({},b,{className:g,ref:l}))}p.propTypes=m;const f=p},9343:(e,r,n)=>{n.d(r,{A:()=>b});var t=n(9950),s=n(1942),a=n.n(s),l=n(8738),o=n.n(l),c=n(1497),i=["className","cssModule","size","vertical","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},d.apply(this,arguments)}function u(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function m(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function p(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n,t,s={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(s[n]=e[n]);return s}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var f={"aria-label":a().string,className:a().string,cssModule:a().object,role:a().string,size:a().string,tag:c.Wx,vertical:a().bool};function h(e){var r=e.className,n=e.cssModule,s=e.size,a=e.vertical,l=e.tag,f=void 0===l?"div":l,h=p(e,i),b=(0,c.qO)(o()(r,!!s&&"btn-group-"+s,a?"btn-group-vertical":"btn-group"),n);return t.createElement(f,d({},function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?u(Object(n),!0).forEach((function(r){m(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({role:"group"},h),{className:b}))}h.propTypes=f;const b=h},1646:(e,r,n)=>{n.d(r,{A:()=>v});var t=n(9950),s=n(1942),a=n.n(s),l=n(8738),o=n.n(l),c=n(1497),i=["className","cssModule","hidden","widths","tag","check","size","for"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},d.apply(this,arguments)}function u(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function m(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n,t,s={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(s[n]=e[n]);return s}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var p=["xs","sm","md","lg","xl","xxl"],f=a().oneOfType([a().number,a().string]),h=a().oneOfType([a().bool,a().string,a().number,a().shape({size:f,order:f,offset:f})]),b={children:a().node,hidden:a().bool,check:a().bool,size:a().string,for:a().string,tag:c.Wx,className:a().string,cssModule:a().object,xs:h,sm:h,md:h,lg:h,xl:h,xxl:h,widths:a().array},g=function(e,r,n){return!0===n||""===n?e?"col":"col-".concat(r):"auto"===n?e?"col-auto":"col-".concat(r,"-auto"):e?"col-".concat(n):"col-".concat(r,"-").concat(n)};function j(e){var r=e.className,n=e.cssModule,s=e.hidden,a=e.widths,l=void 0===a?p:a,f=e.tag,h=void 0===f?"label":f,b=e.check,j=e.size,v=e.for,x=m(e,i),y=[];l.forEach((function(r,t){var s=e[r];if(delete x[r],s||""===s){var a,l=!t;if((0,c.Gv)(s)){var i,d=l?"-":"-".concat(r,"-");a=g(l,r,s.size),y.push((0,c.qO)(o()((u(i={},a,s.size||""===s.size),u(i,"order".concat(d).concat(s.order),s.order||0===s.order),u(i,"offset".concat(d).concat(s.offset),s.offset||0===s.offset),i))),n)}else a=g(l,r,s),y.push(a)}}));var O=j||y.length,N=!(b||O),k=(0,c.qO)(o()(r,!!s&&"visually-hidden",!!b&&"form-check-label",!!j&&"col-form-label-".concat(j),y,!!O&&"col-form-label",!!N&&"form-label"),n);return t.createElement(h,d({htmlFor:v},x,{className:k}))}j.propTypes=b;const v=j},1340:(e,r,n)=>{n.d(r,{A:()=>f});var t=n(9950),s=n(1942),a=n.n(s),l=n(8738),o=n.n(l),c=n(1497),i=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n,t,s={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(s[n]=e[n]);return s}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var m={children:a().node,className:a().string,close:a().object,closeAriaLabel:a().string,cssModule:a().object,tag:c.Wx,toggle:a().func,wrapTag:c.Wx};function p(e){var r,n=e.className,s=e.cssModule,a=e.children,l=e.toggle,m=e.tag,p=void 0===m?"h5":m,f=e.wrapTag,h=void 0===f?"div":f,b=e.closeAriaLabel,g=void 0===b?"Close":b,j=e.close,v=u(e,i),x=(0,c.qO)(o()(n,"modal-header"),s);return!j&&l&&(r=t.createElement("button",{type:"button",onClick:l,className:(0,c.qO)("btn-close",s),"aria-label":g})),t.createElement(h,d({},v,{className:x}),t.createElement(p,{className:(0,c.qO)("modal-title",s)},a),j||r)}p.propTypes=m;const f=p}}]);