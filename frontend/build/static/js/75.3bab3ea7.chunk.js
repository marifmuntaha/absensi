"use strict";(self.webpackChunkabsensi_frontend=self.webpackChunkabsensi_frontend||[]).push([[75],{1542:(e,s,a)=>{a.d(s,{A:()=>t});var n=a(454),l=(a(9950),a(4414));const t=e=>{let s=Object.assign({},((0,n.A)(e),e));return(0,l.jsx)("div",{className:"nk-content",children:(0,l.jsx)("div",{className:"container-fluid",children:(0,l.jsx)("div",{className:"nk-content-inner",children:(0,l.jsxs)("div",{className:"nk-content-body",children:[s.page?null:s.children,"component"===s.page?(0,l.jsx)("div",{className:"components-preview wide-md mx-auto",children:s.children}):null]})})})})}},3075:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var n=a(9950),l=a(3429),t=a(1542),r=a(5988),o=a(7806),c=a(9343),i=a(4209),d=a(454),m=a(3120),u=a(1340),h=a(877),x=a(1646),j=a(3452),f=a(9449),g=a(1925),p=a(9051),k=a.n(p),b=a(2348),v=a.n(b),N=a(4414);const w=e=>{let s=Object.assign({},((0,d.A)(e),e));const{handleSubmit:a,setValue:l,formState:{errors:t},getValues:o,reset:c,control:p}=(0,f.mN)(),[b,w]=(0,n.useState)(!1),y=[{value:"1",label:"Senin"},{value:"2",label:"Selasa"},{value:"3",label:"Rabu"},{value:"4",label:"Kamis"},{value:"5",label:"Jum'at"},{value:"6",label:"Sabtu"},{value:"7",label:"Minggu"}],A=async()=>{w(!0);const e={day:o("day"),in:k()(o("in")).format("HH:mm:ss"),out:k()(o("out")).format("HH:mm:ss")};await(0,g.M_)(e).then((e=>{(0,r.eI)(e.data.message,"success"),S(),s.setLoadData(!0)})).catch((e=>(0,r.eI)(e,"error")))},H=async()=>{w(!0);const e={id:o("id"),day:o("day"),in:k()(o("in")).format("HH:mm:ss"),out:k()(o("out")).format("HH:mm:ss")};await(0,g.yo)(e).then((e=>{(0,r.eI)(e.data.message,"success"),S(),s.setLoadData(!0)})).catch((e=>(0,r.eI)(e,"error")))},S=()=>{c(),l("day",null),s.setWork(null),s.setModal(!1)};return(0,n.useEffect)((()=>{if(null!==s.work){const e=s.work;l("id",e.id),l("day",e.day),l("in",k()(e.in,"HH:mm:ss").toDate()),l("out",k()(e.out,"HH:mm:ss").toDate())}}),[s.work]),(0,N.jsx)(n.Fragment,{children:(0,N.jsxs)(m.A,{isOpen:s.modal,toggle:S,children:[(0,N.jsx)(u.A,{children:null!==s.work?"UBAH":"TAMBAH"}),(0,N.jsx)(h.A,{children:(0,N.jsx)("form",{className:"form-validate is-alter",onSubmit:a((()=>{null===s.work?A().then((()=>w(!1))):H().then((()=>w(!1)))})),children:(0,N.jsxs)(r.fI,{className:"gy-2",children:[(0,N.jsx)(r.fv,{className:"col-md-12",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsx)("label",{className:"form-label",htmlFor:"day",children:"Hari"}),(0,N.jsxs)("div",{className:"form-control-wrap",children:[(0,N.jsx)("input",{type:"hidden",id:"day",className:"form-control"}),(0,N.jsx)(f.xI,{control:p,className:"form-control",name:"day",rules:{required:!0},render:e=>{let{field:{onChange:s,value:a,ref:n}}=e;return(0,N.jsx)(r.$t,{inputRef:n,options:y,value:y.find((e=>e.value===a)),onChange:e=>s(e.value),placeholder:"Pilih Hari"})}}),t.day&&(0,N.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,N.jsx)(r.fv,{className:"col-md-12",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsx)(x.A,{htmlFor:"in",className:"form-label",children:"Jam Masuk"}),(0,N.jsxs)("div",{className:"form-control-wrap",children:[(0,N.jsx)("input",{type:"hidden",id:"in",className:"form-control"}),(0,N.jsx)(f.xI,{control:p,name:"in",render:e=>{let{field:{onChange:s,value:a,ref:n}}=e;return(0,N.jsx)(v(),{inputRef:n,selected:a||k()().toDate(),className:"form-control date-picker",onChange:e=>s(e),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Waktu",dateFormat:"HH:mm aa"})}}),t.in&&(0,N.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,N.jsx)(r.fv,{className:"col-md-12",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsx)(x.A,{htmlFor:"out",className:"form-label",children:"Jam Pulang"}),(0,N.jsxs)("div",{className:"form-control-wrap",children:[(0,N.jsx)("input",{type:"hidden",id:"out",className:"form-control"}),(0,N.jsx)(f.xI,{control:p,name:"out",render:e=>{let{field:{onChange:s,value:a,ref:n}}=e;return(0,N.jsx)(v(),{inputRef:n,selected:a||k()().toDate(),className:"form-control date-picker",onChange:e=>s(e),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Waktu",dateFormat:"HH:mm aa"})}}),t.out&&(0,N.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,N.jsx)("div",{className:"form-group",children:(0,N.jsx)(j.A,{size:"lg",className:"btn-block",type:"submit",color:"primary",children:b?(0,N.jsx)(i.A,{size:"sm",color:"light"}):"SIMPAN"})})]})})})]})})},y=()=>{const[e,s]=(0,n.useState)(!1),[a,d]=(0,n.useState)([]),[m,u]=(0,n.useState)(null),[h,x]=(0,n.useState)(!0),[j,f]=(0,n.useState)(!1),[p,k]=(0,n.useState)(!1),b=[{name:"Hari",selector:e=>v(e.day),sortable:!1},{name:"Jam Masuk",selector:e=>e.in,sortable:!1,hide:370},{name:"Jam Pulang",selector:e=>e.out,sortable:!1,hide:370},{name:"Aksi",selector:e=>e.id,sortable:!1,hide:"sm",cell:e=>(0,N.jsxs)(c.A,{size:"sm",children:[(0,N.jsx)(r.$n,{outline:!0,color:"warning",onClick:()=>{u(e),f(!0)},children:(0,N.jsx)(r.In,{name:"edit-alt"})}),(0,N.jsx)(r.$n,{outline:!0,color:"danger",onClick:()=>{k(e.id),(0,g.zr)(e.id).then((e=>{(0,r.eI)(e.data.message,"success"),x(!0)})).catch((e=>(0,r.eI)(e,"error")))},children:p===e.id?(0,N.jsx)(i.A,{size:"sm"}):(0,N.jsx)(r.In,{name:"trash"})})]})}],v=e=>{switch(e){case"1":return"Senin";case"2":return"Selasa";case"3":return"Rabu";case"4":return"Kamis";case"5":return"Jum'at";case"6":return"Sabtu";case"7":return"Minggu"}};return(0,n.useEffect)((()=>{h&&(0,g.Jt)().then((e=>{d(e.data.result),x(!1)})).catch((e=>(0,r.eI)(e,"error")))}),[h]),(0,N.jsxs)(n.Fragment,{children:[(0,N.jsx)(l.A,{title:"Data Jam Kerja"}),(0,N.jsxs)(t.A,{page:"component",children:[(0,N.jsx)(r.GE,{size:"lg",wide:"sm",children:(0,N.jsx)(r.X3,{children:(0,N.jsx)(r.n0,{link:"/",icon:"arrow-left",children:"Dashboard"})})}),(0,N.jsxs)(r.eB,{size:"sm",children:[(0,N.jsx)(r.GE,{size:"sm",children:(0,N.jsxs)(r.CZ,{children:[(0,N.jsxs)(r.X3,{children:[(0,N.jsx)(r.E9,{tag:"h4",children:"Data Jam Kerja"}),(0,N.jsxs)("p",{children:["Just import ",(0,N.jsx)("code",{children:"ReactDataTable"})," from ",(0,N.jsx)("code",{children:"components"}),", it is built in for react dashlite."]})]}),(0,N.jsx)(r.X3,{children:(0,N.jsxs)("div",{className:"toggle-wrap nk-block-tools-toggle",children:[(0,N.jsx)("a",{href:"#more",className:"btn btn-icon btn-trigger toggle-expand me-n1",onClick:a=>{a.preventDefault(),s(!e)},children:(0,N.jsx)(r.In,{name:"more-v"})}),(0,N.jsx)("div",{className:"toggle-expand-content",style:{display:e?"block":"none"},children:(0,N.jsx)("ul",{className:"nk-block-tools g-3",children:(0,N.jsxs)("li",{className:"nk-block-tools-opt",children:[(0,N.jsx)(r.$n,{className:"toggle btn-icon d-md-none",color:"dark",onClick:()=>{f(!0)},children:(0,N.jsx)(r.In,{name:"plus"})}),(0,N.jsxs)(r.$n,{className:"toggle d-none d-md-inline-flex",color:"dark",onClick:()=>{f(!0)},children:[(0,N.jsx)(r.In,{name:"plus"}),(0,N.jsx)("span",{children:"TAMBAH"})]})]})})})]})})]})}),(0,N.jsx)(r.Ns,{children:(0,N.jsx)(o.A,{data:a,columns:b,expandableRows:!0,pagination:!0})})]})]}),(0,N.jsx)(w,{modal:j,setModal:f,work:m,setWork:u,setLoadData:x})]})}},1925:(e,s,a)=>{a.d(s,{Jt:()=>l,M_:()=>t,yo:()=>r,zr:()=>o});const n=new(a(183).g);function l(e){return n.get("".concat("/master/work"),e)}function t(e){return n.create("/master/work",e)}function r(e){const s="/master/work/".concat(e.id);return n.update("".concat(s),e)}function o(e){const s="/master/work/".concat(e);return n.delete("".concat(s))}}}]);