/*! For license information please see 884.2368783e.chunk.js.LICENSE.txt */
(self.webpackChunkabsensi_frontend=self.webpackChunkabsensi_frontend||[]).push([[884],{1542:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});var n=s(454),l=(s(9950),s(4414));const t=e=>{let a=Object.assign({},((0,n.A)(e),e));return(0,l.jsx)("div",{className:"nk-content",children:(0,l.jsx)("div",{className:"container-fluid",children:(0,l.jsx)("div",{className:"nk-content-inner",children:(0,l.jsxs)("div",{className:"nk-content-body",children:[a.page?null:a.children,"component"===a.page?(0,l.jsx)("div",{className:"components-preview wide-md mx-auto",children:a.children}):null]})})})})}},3884:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>D});var n=s(9950),l=s(3429),t=s(1542),r=s(5988),i=s(7806),o=s(7207),c=s(9343),d=s(4209),m=s(454),u=s(3120),h=s(1340),p=s(877),f=s(1646),x=s(3452),j=s(9449),g=s(3364),b=s(2348),v=s.n(b),M=s(9051),k=s.n(M),y=s(8460),N=s(4414);const _=e=>{let a=Object.assign({},((0,m.A)(e),e));const s=a.year,{handleSubmit:l,setValue:t,formState:{errors:i},getValues:o,reset:c,control:b}=(0,j.mN)(),[M,_]=(0,y.M)(),[Y,D]=(0,n.useState)(!1),S=[{value:"1",label:"Semester Gasal"},{value:"2",label:"Semester Genap"}],A=[{value:"1",label:"Aktif"},{value:"2",label:"Tidak Aktif"}],w=async()=>{D(!0);const e={year_id:s.id,name:o("name"),start:k()(o("start")).format("YYYY-MM-DD"),end:k()(o("end")).format("YYYY-MM-DD"),active:o("active")};await(0,g.M_)(e).then((e=>{(0,r.eI)(e.data.message,"success"),I(),a.setLoadData(!0),"1"===e.data.result.active&&_(e.data.result)})).catch((e=>(0,r.eI)(e,"error")))},L=async()=>{D(!0);const e={id:o("id"),year_id:s.id,name:o("name"),start:k()(o("start")).format("YYYY-MM-DD"),end:k()(o("end")).format("YYYY-MM-DD"),active:o("active")};await(0,g.yo)(e).then((e=>{(0,r.eI)(e.data.message,"success"),I(),a.setLoadData(!0),"1"===e.data.result.active&&_(e.data.result)})).catch((e=>(0,r.eI)(e,"error")))},I=()=>{c(),t("name",null),t("active",null),t("start",k()().toDate()),t("end",k()().toDate()),a.setSemester(null),a.setModal(!1)};return(0,n.useEffect)((()=>{if(null!==a.semester){const e=a.semester;t("id",e.id),t("year_id",e.year_id),t("name",e.name),t("start",k()(e.start).toDate()),t("end",k()(e.end).toDate()),t("active",e.active)}}),[a.semester]),(0,N.jsx)(n.Fragment,{children:(0,N.jsxs)(u.A,{isOpen:a.modal,toggle:I,children:[(0,N.jsx)(h.A,{children:null!==a.semester?"UBAH":"TAMBAH"}),(0,N.jsx)(p.A,{children:(0,N.jsx)("form",{className:"form-validate is-alter",onSubmit:l((()=>{null===a.semester?w().then((()=>D(!1))):L().then((()=>D(!1)))})),children:(0,N.jsxs)(r.fI,{className:"gy-2",children:[(0,N.jsx)(r.fv,{className:"col-md-12",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsx)("label",{className:"form-label",htmlFor:"name",children:"Nama"}),(0,N.jsxs)("div",{className:"form-control-wrap",children:[(0,N.jsx)("input",{type:"hidden",className:"form-control"}),(0,N.jsx)(j.xI,{control:b,className:"form-control",name:"name",rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,ref:n}}=e;return(0,N.jsx)(r.$t,{inputRef:n,options:S,value:S.find((e=>e.value===s)),onChange:e=>a(e.value),placeholder:"Pilih Semester"})}}),i.name&&(0,N.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,N.jsx)(r.fv,{className:"col-md-6",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsx)(f.A,{htmlFor:"start",className:"form-label",children:"Tanggal Mulai"}),(0,N.jsxs)("div",{className:"form-control-wrap",children:[(0,N.jsx)("input",{type:"hidden",id:"start",className:"form-control"}),(0,N.jsx)(j.xI,{control:b,name:"start",render:e=>{let{field:{onChange:a,value:s,ref:n}}=e;return(0,N.jsx)(v(),{inputRef:n,selected:s||new Date,className:"form-control date-picker",onChange:e=>a(e),dateFormat:"dd/MM/yyyy"})}}),i.start&&(0,N.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,N.jsx)(r.fv,{className:"col-md-6",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsx)(f.A,{htmlFor:"end",className:"form-label",children:"Tanggal Selesai"}),(0,N.jsxs)("div",{className:"form-control-wrap",children:[(0,N.jsx)("input",{type:"hidden",id:"end",className:"form-control"}),(0,N.jsx)(j.xI,{control:b,name:"end",render:e=>{let{field:{onChange:a,value:s,ref:n}}=e;return(0,N.jsx)(v(),{inputRef:n,selected:s||new Date,className:"form-control date-picker",onChange:e=>a(e),dateFormat:"dd/MM/yyyy"})}}),i.end&&(0,N.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,N.jsx)(r.fv,{className:"col-md-12",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsx)("label",{className:"form-label",htmlFor:"active",children:"Status"}),(0,N.jsxs)("div",{className:"form-control-wrap",children:[(0,N.jsx)("input",{type:"hidden",id:"active",className:"form-control"}),(0,N.jsx)(j.xI,{control:b,className:"form-control",name:"active",rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,ref:n}}=e;return(0,N.jsx)(r.$t,{inputRef:n,options:A,value:A.find((e=>e.value===s)),onChange:e=>a(e.value),placeholder:"Pilih Status"})}}),i.active&&(0,N.jsx)("span",{className:"invalid",children:"Kolom tidak boleh kosong."})]})]})}),(0,N.jsx)("div",{className:"form-group",children:(0,N.jsx)(x.A,{size:"lg",className:"btn-block",type:"submit",color:"primary",children:Y?(0,N.jsx)(d.A,{size:"sm",color:"light"}):"SIMPAN"})})]})})})]})})};var Y=s(5521);s(6101);const D=()=>{const[e]=(0,Y.r)(),[a,s]=(0,n.useState)(!1),[m,u]=(0,n.useState)([]),[h,p]=(0,n.useState)(null),[f,x]=(0,n.useState)(!0),[j,b]=(0,n.useState)(!1),[v,M]=(0,n.useState)(!1),y=[{name:"Nama Tahun",selector:e=>e.year&&e.year.name,sortable:!1},{name:"Semester",selector:e=>"1"===e.name?"Gasal":"Genap",sortable:!1,hide:370},{name:"Mulai",selector:e=>k()(e.start,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY"),sortable:!1},{name:"Selesai",selector:e=>k()(e.end,"YYYY-MM-DD").locale("id").format("DD MMMM YYYY"),sortable:!1},{name:"Status",selector:e=>e.active,sortable:!1,hide:"sm",cell:e=>"1"===e.active?(0,N.jsx)(o.A,{pill:!0,color:"success",children:"Aktif"}):(0,N.jsx)(o.A,{pill:!0,color:"danger",children:"Tdk Aktif"})},{name:"Aksi",selector:e=>e.id,sortable:!1,hide:"sm",cell:e=>(0,N.jsxs)(c.A,{size:"sm",children:[(0,N.jsx)(r.$n,{outline:!0,color:"warning",onClick:()=>{p(e),b(!0)},children:(0,N.jsx)(r.In,{name:"edit-alt"})}),(0,N.jsx)(r.$n,{outline:!0,color:"danger",onClick:()=>{M(e.id),(0,g.zr)(e.id).then((e=>{(0,r.eI)(e.data.message,"success"),x(!0)})).catch((e=>(0,r.eI)(e,"error")))},children:v===e.id?(0,N.jsx)(d.A,{size:"sm"}):(0,N.jsx)(r.In,{name:"trash"})})]})}];return(0,n.useEffect)((()=>{f&&(0,g.Jt)({year_id:e.id,with:"year"}).then((e=>{u(e.data.result),x(!1)})).catch((e=>(0,r.eI)(e,"error")))}),[f]),(0,N.jsxs)(n.Fragment,{children:[(0,N.jsx)(l.A,{title:"Data Semester"}),(0,N.jsxs)(t.A,{page:"component",children:[(0,N.jsx)(r.GE,{size:"lg",wide:"sm",children:(0,N.jsx)(r.X3,{children:(0,N.jsx)(r.n0,{link:"/",icon:"arrow-left",children:"Dashboard"})})}),(0,N.jsxs)(r.eB,{size:"sm",children:[(0,N.jsx)(r.GE,{size:"sm",children:(0,N.jsxs)(r.CZ,{children:[(0,N.jsxs)(r.X3,{children:[(0,N.jsx)(r.E9,{tag:"h4",children:"Data Semester"}),(0,N.jsxs)("p",{children:["Just import ",(0,N.jsx)("code",{children:"ReactDataTable"})," from ",(0,N.jsx)("code",{children:"components"}),", it is built in for react dashlite."]})]}),(0,N.jsx)(r.X3,{children:(0,N.jsxs)("div",{className:"toggle-wrap nk-block-tools-toggle",children:[(0,N.jsx)("a",{href:"#more",className:"btn btn-icon btn-trigger toggle-expand me-n1",onClick:e=>{e.preventDefault(),s(!a)},children:(0,N.jsx)(r.In,{name:"more-v"})}),(0,N.jsx)("div",{className:"toggle-expand-content",style:{display:a?"block":"none"},children:(0,N.jsx)("ul",{className:"nk-block-tools g-3",children:(0,N.jsxs)("li",{className:"nk-block-tools-opt",children:[(0,N.jsx)(r.$n,{className:"toggle btn-icon d-md-none",color:"dark",onClick:()=>{b(!0)},children:(0,N.jsx)(r.In,{name:"plus"})}),(0,N.jsxs)(r.$n,{className:"toggle d-none d-md-inline-flex",color:"dark",onClick:()=>{b(!0)},children:[(0,N.jsx)(r.In,{name:"plus"}),(0,N.jsx)("span",{children:"TAMBAH"})]})]})})})]})})]})}),(0,N.jsx)(r.Ns,{children:(0,N.jsx)(i.A,{data:m,columns:y,expandableRows:!0,pagination:!0})})]})]}),(0,N.jsx)(_,{modal:j,setModal:b,semester:h,setSemester:p,setLoadData:x,year:e})]})}},6101:function(e,a,s){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"siang"===a?e>=11?e:e+12:"sore"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,s){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(s(9051))},7207:(e,a,s)=>{"use strict";s.d(a,{A:()=>p});var n=s(9950),l=s(1942),t=s.n(l),r=s(8738),i=s.n(r),o=s(1497),c=["className","cssModule","color","innerRef","pill","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},d.apply(this,arguments)}function m(e,a){if(null==e)return{};var s,n,l=function(e,a){if(null==e)return{};var s,n,l={},t=Object.keys(e);for(n=0;n<t.length;n++)s=t[n],a.indexOf(s)>=0||(l[s]=e[s]);return l}(e,a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(n=0;n<t.length;n++)s=t[n],a.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}var u={children:t().node,className:t().string,color:t().string,cssModule:t().object,innerRef:t().oneOfType([t().object,t().func,t().string]),pill:t().bool,tag:o.Wx};function h(e){var a=e.className,s=e.cssModule,l=e.color,t=void 0===l?"secondary":l,r=e.innerRef,u=e.pill,h=void 0!==u&&u,p=e.tag,f=void 0===p?"span":p,x=m(e,c),j=(0,o.qO)(i()(a,"badge","bg-"+t,!!h&&"rounded-pill"),s);return x.href&&"span"===f&&(f="a"),n.createElement(f,d({},x,{className:j,ref:r}))}h.propTypes=u;const p=h}}]);